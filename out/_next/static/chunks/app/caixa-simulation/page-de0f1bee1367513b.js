(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{28152:(e,a,s)=>{Promise.resolve().then(s.bind(s,30086))},30086:(e,a,s)=>{"use strict";let r;s.r(a),s.d(a,{default:()=>C});var i=s(71983),n=s(45849),l=s(95155),t=s(12115),o=s(20063),d=s(24580),c=s(52078),m=s(18874),u=s(19708),h=s(95704);let x={apiKey:h.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:h.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:h.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:h.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:h.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:h.env.NEXT_PUBLIC_FIREBASE_APP_ID};r=0===(0,c.Dk)().length?(0,c.Wp)(x):(0,c.Sx)(),(0,m.xI)(r),(0,u.aU)(r);var j=s(13328),p=s(10722),v=s(65142),E=s(3998),_=s(86948),N=s(76444),I=s(36596),S=s(15894);let g=()=>{let{toast:e}=(0,S.dj)(),[a,s]=(0,t.useState)(!1),[o,c]=(0,t.useState)(null),[m,u]=(0,t.useState)(""),[h,x]=(0,t.useState)({renda:"",dataNascimento:"",valorImovel:"",sistemaAmortizacao:"PRICE TR"}),j=e=>{let{name:a,value:s}=e.target;x(e=>(0,n._)((0,i._)({},e),{[a]:s}))},g=async a=>{a.preventDefault(),s(!0),c(null),u("");try{let a=(0,d.Uz)(r),s=(0,d.Qg)(a,"simularFinanciamentoCaixa"),i=(await s(h)).data;if(i.sucesso&&i.dados)c(i.dados),e({title:"Sucesso!",description:"Simula\xe7\xe3o realizada com sucesso."});else throw Error(i.message||"Falha na simula\xe7\xe3o.")}catch(s){let a=s instanceof Error?s.message:"Ocorreu um erro desconhecido.";u(a),e({variant:"destructive",title:"Erro na Simula\xe7\xe3o",description:a})}finally{s(!1)}};return(0,l.jsxs)(_.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,l.jsxs)(_.aR,{children:[(0,l.jsx)(_.ZB,{children:"Simulador de Financiamento Caixa"}),(0,l.jsx)(_.BT,{children:"Preencha os dados para simular o financiamento no portal da Caixa."})]}),(0,l.jsxs)(_.Wu,{children:[(0,l.jsxs)("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(N.J,{htmlFor:"valorImovel",children:"Valor de Avalia\xe7\xe3o do Im\xf3vel"}),(0,l.jsx)(v.p,{id:"valorImovel",name:"valorImovel",type:"number",value:h.valorImovel,onChange:j,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(N.J,{htmlFor:"renda",children:"Renda Familiar Mensal Bruta"}),(0,l.jsx)(v.p,{id:"renda",name:"renda",type:"number",value:h.renda,onChange:j,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(N.J,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),(0,l.jsx)(v.p,{id:"dataNascimento",name:"dataNascimento",type:"date",value:h.dataNascimento,onChange:j,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(N.J,{htmlFor:"sistemaAmortizacao",children:"Sistema de Amortiza\xe7\xe3o"}),(0,l.jsxs)(I.l6,{value:h.sistemaAmortizacao,onValueChange:e=>x(a=>(0,n._)((0,i._)({},a),{sistemaAmortizacao:e})),children:[(0,l.jsx)(I.bq,{children:(0,l.jsx)(I.yv,{placeholder:"Selecione o sistema"})}),(0,l.jsxs)(I.gC,{children:[(0,l.jsx)(I.eb,{value:"PRICE TR",children:"PRICE TR"}),(0,l.jsx)(I.eb,{value:"SAC TR",children:"SAC TR"})]})]})]}),(0,l.jsxs)(E.$,{type:"submit",disabled:a,className:"w-full md:col-span-2",children:[a&&(0,l.jsx)(p.hW,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Simulando...":"Simular Financiamento"]})]}),m&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:[(0,l.jsx)("strong",{children:"Erro:"})," ",m]}),o&&(0,l.jsxs)(_.Zp,{className:"mt-6",children:[(0,l.jsx)(_.aR,{children:(0,l.jsx)(_.ZB,{children:"Resultados da Simula\xe7\xe3o Caixa"})}),(0,l.jsxs)(_.Wu,{className:"space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Prazo:"})," ",o.prazo]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Valor Total Financiado:"})," ",o.valorFinanciamento]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Primeira Presta\xe7\xe3o:"})," ",o.primeiraPrestacao]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Juros Efetivos:"})," ",o.jurosEfetivos]})]})]})]})]})};function C(){let[e,a]=(0,j.hD)((0,m.xI)(r)),s=(0,o.useRouter)(),{toast:i}=(0,S.dj)();return((0,t.useEffect)(()=>{a||e||(i({variant:"destructive",title:"Acesso Restrito",description:"Voc\xea precisa estar logado para acessar esta p\xe1gina."}),s.push("/login"))},[e,a,s,i]),a)?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)(p.hW,{className:"h-8 w-8 animate-spin"})}):e?(0,l.jsxs)("div",{className:"container mx-auto p-4 py-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Simula\xe7\xe3o Automatizada Caixa"}),(0,l.jsx)(g,{})]}):null}}},e=>{e.O(0,[58,327,707,611,96,76,358],()=>e(e.s=28152)),_N_E=e.O()}]);