(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{28152:(e,a,s)=>{Promise.resolve().then(s.bind(s,64830))},64830:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>f});var r=s(71983),i=s(45849),l=s(95155),n=s(12115),t=s(20063),o=s(24580),d=s(45300),c=s(13328),m=s(18874),u=s(10722),h=s(65142),x=s(3998),j=s(86948),p=s(76444),v=s(36596),N=s(15894);let g=()=>{let{toast:e}=(0,N.dj)(),[a,s]=(0,n.useState)(!1),[t,c]=(0,n.useState)(null),[m,g]=(0,n.useState)(""),[f,y]=(0,n.useState)({renda:"",dataNascimento:"",valorImovel:"",sistemaAmortizacao:"PRICE TR"}),C=e=>{let{name:a,value:s}=e.target;y(e=>(0,i._)((0,r._)({},e),{[a]:s}))},S=async a=>{a.preventDefault(),s(!0),c(null),g("");try{let a=(0,o.Uz)(d.yA),s=(0,o.Qg)(a,"simularFinanciamentoCaixa"),r=(await s(f)).data;if(r.sucesso&&r.dados)c(r.dados),e({title:"Sucesso!",description:"Simula\xe7\xe3o realizada com sucesso."});else throw Error(r.message||"Falha na simula\xe7\xe3o.")}catch(s){let a=s instanceof Error?s.message:"Ocorreu um erro desconhecido.";g(a),e({variant:"destructive",title:"Erro na Simula\xe7\xe3o",description:a})}finally{s(!1)}};return(0,l.jsxs)(j.Zp,{className:"w-full max-w-2xl mx-auto",children:[(0,l.jsxs)(j.aR,{children:[(0,l.jsx)(j.ZB,{children:"Simulador de Financiamento Caixa"}),(0,l.jsx)(j.BT,{children:"Preencha os dados para simular o financiamento no portal da Caixa."})]}),(0,l.jsxs)(j.Wu,{children:[(0,l.jsxs)("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p.J,{htmlFor:"valorImovel",children:"Valor de Avalia\xe7\xe3o do Im\xf3vel"}),(0,l.jsx)(h.p,{id:"valorImovel",name:"valorImovel",type:"number",value:f.valorImovel,onChange:C,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p.J,{htmlFor:"renda",children:"Renda Familiar Mensal Bruta"}),(0,l.jsx)(h.p,{id:"renda",name:"renda",type:"number",value:f.renda,onChange:C,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p.J,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),(0,l.jsx)(h.p,{id:"dataNascimento",name:"dataNascimento",type:"date",value:f.dataNascimento,onChange:C,required:!0})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(p.J,{htmlFor:"sistemaAmortizacao",children:"Sistema de Amortiza\xe7\xe3o"}),(0,l.jsxs)(v.l6,{value:f.sistemaAmortizacao,onValueChange:e=>y(a=>(0,i._)((0,r._)({},a),{sistemaAmortizacao:e})),children:[(0,l.jsx)(v.bq,{children:(0,l.jsx)(v.yv,{placeholder:"Selecione o sistema"})}),(0,l.jsxs)(v.gC,{children:[(0,l.jsx)(v.eb,{value:"PRICE TR",children:"PRICE TR"}),(0,l.jsx)(v.eb,{value:"SAC TR",children:"SAC TR"})]})]})]}),(0,l.jsxs)(x.$,{type:"submit",disabled:a,className:"w-full md:col-span-2",children:[a&&(0,l.jsx)(u.hW,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Simulando...":"Simular Financiamento"]})]}),m&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:[(0,l.jsx)("strong",{children:"Erro:"})," ",m]}),t&&(0,l.jsxs)(j.Zp,{className:"mt-6",children:[(0,l.jsx)(j.aR,{children:(0,l.jsx)(j.ZB,{children:"Resultados da Simula\xe7\xe3o Caixa"})}),(0,l.jsxs)(j.Wu,{className:"space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Prazo:"})," ",t.prazo]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Valor Total Financiado:"})," ",t.valorFinanciamento]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Primeira Presta\xe7\xe3o:"})," ",t.primeiraPrestacao]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Juros Efetivos:"})," ",t.jurosEfetivos]})]})]})]})]})};function f(){let[e,a]=(0,c.hD)((0,m.xI)(d.yA)),s=(0,t.useRouter)(),{toast:r}=(0,N.dj)();return((0,n.useEffect)(()=>{a||e||(r({variant:"destructive",title:"Acesso Restrito",description:"Voc\xea precisa estar logado para acessar esta p\xe1gina."}),s.push("/login"))},[e,a,s,r]),a)?(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)(u.hW,{className:"h-8 w-8 animate-spin"})}):e?(0,l.jsxs)("div",{className:"container mx-auto p-4 py-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Simula\xe7\xe3o Automatizada Caixa"}),(0,l.jsx)(g,{})]}):null}}},e=>{e.O(0,[58,327,707,611,96,76,358],()=>e(e.s=28152)),_N_E=e.O()}]);