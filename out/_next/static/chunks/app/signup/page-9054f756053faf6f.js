(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{74180:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>v});var r=s(95155),l=s(12115),t=s(20063),i=s(3998),n=s(86948),o=s(65142),c=s(76444),d=s(15894),m=s(7896),u=s(18874),p=s(86512),h=s(67909);let x={Mensal:"https://pay.sumup.com/b2c/Q0FRYLR6",Semestral:"https://pay.sumup.com/b2c/Q3QCURHB",Anual:"https://pay.sumup.com/b2c/QI2UYEAT"};function j(){let e=(0,t.useRouter)(),a=(0,t.useSearchParams)(),s=a.get("plan")||"Nenhum plano selecionado",h=a.get("paymentMethod"),{toast:j}=(0,d.dj)(),[f,v]=(0,l.useState)(""),[g,w]=(0,l.useState)(""),[N,y]=(0,l.useState)(""),[C,b]=(0,l.useState)(!1),S=async a=>{if(a.preventDefault(),b(!0),!s||!h||!["Mensal","Semestral","Anual"].includes(s)){j({variant:"destructive",title:"Erro no Plano",description:"Plano ou m\xe9todo de pagamento inv\xe1lido. Por favor, selecione um plano novamente."}),e.push("/plans");return}try{let a=(await (0,u.eJ)(p.j,g,N)).user;if(await (0,u.gA)(a),j({title:"Verifique seu E-mail!",description:"Enviamos um link de verifica\xe7\xe3o. Ap\xf3s verificar, fa\xe7a login e voc\xea ser\xe1 direcionado para a configura\xe7\xe3o de seguran\xe7a."}),"creditCard"===h){let e=x[s];window.location.href=e}else e.push("/pix-payment?plan=".concat(s))}catch(a){let e="Ocorreu um erro ao criar a conta.";"auth/email-already-in-use"===a.code?e="Este e-mail j\xe1 est\xe1 em uso.":"auth/weak-password"===a.code&&(e="A senha deve ter pelo menos 6 caracteres."),j({variant:"destructive",title:"Erro no Cadastro",description:e}),b(!1)}};return(0,r.jsxs)(n.Zp,{className:"w-full max-w-sm",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"text-2xl",children:"Cadastro"}),(0,r.jsxs)(n.BT,{children:["Crie sua conta para assinar o plano: ",(0,r.jsx)("span",{className:"font-bold text-primary",children:s}),"."]})]}),(0,r.jsxs)("form",{onSubmit:S,children:[(0,r.jsxs)(n.Wu,{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"name",children:"Nome Completo"}),(0,r.jsx)(o.p,{id:"name",type:"text",placeholder:"Seu nome",required:!0,value:f,onChange:e=>v(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(o.p,{id:"email",type:"email",placeholder:"seu@email.com",required:!0,value:g,onChange:e=>w(e.target.value)})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(c.J,{htmlFor:"password",children:"Senha"}),(0,r.jsx)(o.p,{id:"password",type:"password",required:!0,value:N,onChange:e=>y(e.target.value)})]})]}),(0,r.jsx)(n.wL,{className:"flex flex-col gap-4",children:(0,r.jsxs)(i.$,{className:"w-full",type:"submit",disabled:C,children:[C&&(0,r.jsx)(m.k,{className:"mr-2 h-4 w-4 animate-spin"}),"Criar Conta e Ir para Pagamento"]})})]})]})}let f=(0,h.default)(()=>Promise.resolve(j),{loading:()=>(0,r.jsx)("div",{className:"w-full max-w-sm",children:(0,r.jsx)(n.Zp,{children:(0,r.jsx)(n.aR,{children:(0,r.jsx)(m.k,{className:"h-8 w-8 animate-spin"})})})}),ssr:!1});function v(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,r.jsx)(m.k,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Carregando..."})]}),children:(0,r.jsx)(f,{})})}},79704:(e,a,s)=>{Promise.resolve().then(s.bind(s,74180))}},e=>{e.O(0,[58,327,707,611,96,76,358],()=>e(e.s=79704)),_N_E=e.O()}]);