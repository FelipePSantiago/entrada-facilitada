(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{9242:(e,t,a)=>{"use strict";a.d(t,{ChunkErrorHandler:()=>r});var s=a(12115);function r(){return(0,s.useEffect)(()=>{let e=e=>{if(!e.reason)return;let t=e.reason,a="string"==typeof t?t:t.message;a&&(a.includes("Failed to fetch dynamically imported module")||/Loading chunk .* failed/i.test(a)||/Cannot find module '\.\/.*\.js'/i.test(a))&&window.location.reload()};return window.addEventListener("unhandledrejection",e),()=>{window.removeEventListener("unhandledrejection",e)}},[]),null}},13673:()=>{},18516:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>j});var s=a(71983),r=a(45849),n=a(17389),i=a(95155),o=a(15894),l=a(12115),d=a(65476),c=a(83101),u=a(6363),m=a(73254);let f=d.Kq,p=l.forwardRef((e,t)=>{var{className:a}=e,r=(0,n._)(e,["className"]);return(0,i.jsx)(d.LM,(0,s._)({ref:t,className:(0,m.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a)},r))});p.displayName=d.LM.displayName;let h=(0,c.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v=l.forwardRef((e,t)=>{var{className:a,variant:r}=e,o=(0,n._)(e,["className","variant"]);return(0,i.jsx)(d.bL,(0,s._)({ref:t,className:(0,m.cn)(h({variant:r}),a)},o))});v.displayName=d.bL.displayName,l.forwardRef((e,t)=>{var{className:a}=e,r=(0,n._)(e,["className"]);return(0,i.jsx)(d.rc,(0,s._)({ref:t,className:(0,m.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a)},r))}).displayName=d.rc.displayName;let x=l.forwardRef((e,t)=>{var{className:a}=e,o=(0,n._)(e,["className"]);return(0,i.jsx)(d.bm,(0,r._)((0,s._)({ref:t,className:(0,m.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":""},o),{children:(0,i.jsx)(u.X,{className:"h-4 w-4"})}))});x.displayName=d.bm.displayName;let g=l.forwardRef((e,t)=>{var{className:a}=e,r=(0,n._)(e,["className"]);return(0,i.jsx)(d.hE,(0,s._)({ref:t,className:(0,m.cn)("text-sm font-semibold",a)},r))});g.displayName=d.hE.displayName;let N=l.forwardRef((e,t)=>{var{className:a}=e,r=(0,n._)(e,["className"]);return(0,i.jsx)(d.VY,(0,s._)({ref:t,className:(0,m.cn)("text-sm opacity-90",a)},r))});function j(){let{toasts:e}=(0,o.dj)();return(0,i.jsxs)(f,{children:[e.map(function(e){var{id:t,title:a,description:o,action:l}=e,d=(0,n._)(e,["id","title","description","action"]);return(0,i.jsxs)(v,(0,r._)((0,s._)({},d),{children:[(0,i.jsxs)("div",{className:"grid gap-1",children:[a&&(0,i.jsx)(g,{children:a}),o&&(0,i.jsx)(N,{children:o})]}),l,(0,i.jsx)(x,{})]}),t)}),(0,i.jsx)(p,{})]})}N.displayName=d.VY.displayName},33065:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,31667,23)),Promise.resolve().then(a.t.bind(a,13673,23)),Promise.resolve().then(a.bind(a,9242)),Promise.resolve().then(a.bind(a,43695)),Promise.resolve().then(a.bind(a,89616)),Promise.resolve().then(a.bind(a,92753)),Promise.resolve().then(a.bind(a,51458)),Promise.resolve().then(a.bind(a,18516))},43695:(e,t,a)=>{"use strict";a.d(t,{ErrorBoundary:()=>i});var s=a(95155),r=a(12115),n=a(73254);class i extends r.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){(0,n.u1)(e)}render(){return this.state.hasError?this.props.fallback||(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-background text-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Oops! Algo deu errado."}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Nossa equipe foi notificada. Por favor, tente recarregar a p\xe1gina ou volte mais tarde."}),(0,s.jsx)("button",{onClick:()=>{window.location.reload()},className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",children:"Recarregar P\xe1gina"})]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}},51458:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>l});var s=a(71983),r=a(45849),n=a(17389),i=a(95155);a(12115);var o=a(5379);function l(e){var{children:t}=e,a=(0,n._)(e,["children"]);return(0,i.jsx)(o.N,(0,r._)((0,s._)({},a),{children:t}))}},89616:(e,t,a)=>{"use strict";a.d(t,{default:()=>q});var s=a(95155),r=a(52619),n=a.n(r),i=a(20063),o=a(3998),l=a(65380),d=a(18874),c=a(86512),u=a(15894),m=a(59384),f=a(84926),p=a(71983),h=a(45849),v=a(17389),x=a(12115),g=a(47971),N=a(5917),j=a(27937),y=a(99051),b=a(73254);let w=g.bL,_=g.l9;g.YJ,g.ZL,g.Pb,g.z6,x.forwardRef((e,t)=>{var{className:a,inset:r,children:n}=e,i=(0,v._)(e,["className","inset","children"]);return(0,s.jsxs)(g.ZP,(0,h._)((0,p._)({ref:t,className:(0,b.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a)},i),{children:[n,(0,s.jsx)(j.A,{className:"ml-auto"})]}))}).displayName=g.ZP.displayName,x.forwardRef((e,t)=>{var{className:a}=e,r=(0,v._)(e,["className"]);return(0,s.jsx)(g.G5,(0,p._)({ref:t,className:(0,b.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},r))}).displayName=g.G5.displayName;let k=x.forwardRef((e,t)=>{var{className:a,sideOffset:r=4}=e,n=(0,v._)(e,["className","sideOffset"]);return(0,s.jsx)(g.ZL,{children:(0,s.jsx)(g.UC,(0,p._)({ref:t,sideOffset:r,className:(0,b.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a)},n))})});k.displayName=g.UC.displayName;let E=x.forwardRef((e,t)=>{var{className:a,inset:r}=e,n=(0,v._)(e,["className","inset"]);return(0,s.jsx)(g.q7,(0,p._)({ref:t,className:(0,b.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a)},n))});E.displayName=g.q7.displayName,x.forwardRef((e,t)=>{var{className:a,children:r,checked:n}=e,i=(0,v._)(e,["className","children","checked"]);return(0,s.jsxs)(g.H_,(0,h._)((0,p._)({ref:t,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:null!=n&&n},i),{children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.VF,{children:(0,s.jsx)(N.A,{className:"h-4 w-4"})})}),r]}))}).displayName=g.H_.displayName,x.forwardRef((e,t)=>{var{className:a,children:r}=e,n=(0,v._)(e,["className","children"]);return(0,s.jsxs)(g.hN,(0,h._)((0,p._)({ref:t,className:(0,b.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},n),{children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.VF,{children:(0,s.jsx)(y.A,{className:"h-2 w-2 fill-current"})})}),r]}))}).displayName=g.hN.displayName;let A=x.forwardRef((e,t)=>{var{className:a,inset:r}=e,n=(0,v._)(e,["className","inset"]);return(0,s.jsx)(g.JU,(0,p._)({ref:t,className:(0,b.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a)},n))});A.displayName=g.JU.displayName;let C=x.forwardRef((e,t)=>{var{className:a}=e,r=(0,v._)(e,["className"]);return(0,s.jsx)(g.wv,(0,p._)({ref:t,className:(0,b.cn)("-mx-1 my-1 h-px bg-muted",a)},r))});C.displayName=g.wv.displayName;var R=a(46591);let P=x.forwardRef((e,t)=>{var{className:a}=e,r=(0,v._)(e,["className"]);return(0,s.jsx)(R.bL,(0,p._)({ref:t,className:(0,b.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a)},r))});P.displayName=R.bL.displayName;let S=x.forwardRef((e,t)=>{var{className:a}=e,r=(0,v._)(e,["className"]);return(0,s.jsx)(R._V,(0,p._)({ref:t,className:(0,b.cn)("aspect-square h-full w-full",a)},r))});S.displayName=R._V.displayName;let L=x.forwardRef((e,t)=>{var{className:a}=e,r=(0,v._)(e,["className"]);return(0,s.jsx)(R.H4,(0,p._)({ref:t,className:(0,b.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a)},r))});L.displayName=R.H4.displayName;var z=a(37494),F=a(59427),U=a(5379);function V(){let{setTheme:e}=(0,U.D)();return(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsxs)(o.$,{variant:"ghost",size:"icon",children:[(0,s.jsx)(F.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(z.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(k,{align:"end",children:[(0,s.jsx)(E,{onClick:()=>e("light"),children:"Claro"}),(0,s.jsx)(E,{onClick:()=>e("dark"),children:"Escuro"}),(0,s.jsx)(E,{onClick:()=>e("system"),children:"Sistema"})]})]})}function q(){var e;let{user:t,isAdmin:a,isFullyAuthenticated:r}=(0,l.A)(),p=(0,i.usePathname)(),{toast:h}=(0,u.dj)(),v=async()=>{try{await (0,d.CI)(c.j),h({title:"Logout bem-sucedido!",description:"Voc\xea foi desconectado."})}catch(e){h({variant:"destructive",title:"Erro no Logout",description:"N\xe3o foi poss\xedvel fazer o logout. Tente novamente."})}};return(0,s.jsx)("header",{className:"absolute top-0 left-0 w-full p-4 bg-background/80 backdrop-blur-sm shadow-sm z-10",children:(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,s.jsx)(n(),{href:"/",className:"text-2xl font-bold text-primary",children:"Entrada Facilitada"}),(0,s.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,s.jsx)(V,{}),r&&(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(o.$,{variant:p.startsWith("/admin")?"secondary":"ghost",asChild:!0,children:(0,s.jsxs)(n(),{href:"/admin/properties",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Admin"]})}),(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,s.jsxs)(P,{className:"h-8 w-8",children:[(0,s.jsx)(S,{src:(null==t?void 0:t.photoURL)||"",alt:(null==t?void 0:t.displayName)||"Avatar"}),(0,s.jsx)(L,{children:(e=(null==t?void 0:t.email)||"")?e[0].toUpperCase():"?"})]})})}),(0,s.jsxs)(k,{className:"w-56",align:"end",forceMount:!0,children:[(0,s.jsx)(A,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium leading-none",children:"Minha Conta"}),(0,s.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:null==t?void 0:t.email})]})}),(0,s.jsx)(C,{}),(0,s.jsxs)(E,{onClick:v,children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Sair"})]})]})]})]})]})]})})}},92753:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>h});var s=a(71983),r=a(95155),n=a(12115),i=a(20063),o=a(18874),l=a(19708),d=a(65380),c=a(86512),u=a(24580),m=a(32969);let f=["/login","/signup","/plans","/pix-payment","/forgot-password","/","/sumup-payment","/sumup-payment/success","/api/sumup/payment"],p=["/setup-2fa","/verify-2fa"];function h(e){var t;let{children:a}=e,h=(0,i.useRouter)(),v=(0,i.usePathname)(),[x,g]=(0,n.useState)(null),[N,j]=(0,n.useState)(void 0),[y,b]=(0,n.useState)(!0),[w,_]=(0,n.useState)(!1),[k,E]=(0,n.useState)(!1),[A,C]=(0,n.useState)(void 0),[R,P]=(0,n.useState)([]),[S,L]=(0,n.useState)(!0),[z,F]=(0,n.useState)(null);(0,n.useEffect)(()=>{{let e="6Lcap-srAAAAAAile0D-7ioeCFh1QqlC2ulCSfGe";if(e)try{(0,m.Ay)(c.y,{provider:new m._u(e),isTokenAutoRefreshEnabled:!0})}catch(e){}}F((0,u.Uz)(c.y));let e=(0,o.hg)(c.j,e=>{e?g(e):(g(null),j(null),C(void 0),E(!1),b(!1),Object.keys(localStorage).forEach(e=>{e.startsWith("2fa-verified-")&&localStorage.removeItem(e)}))});return()=>e()},[]),(0,n.useEffect)(()=>{_(!1)},[v]),(0,n.useEffect)(()=>{if(!x){j(null),b(!1);return}let e=(0,l.aU)(c.y),t=(0,l.H9)(e,"users",x.uid),a=(0,l.aQ)(t,e=>{j(e.exists()?e.data():null)});return()=>a()},[x]),(0,n.useEffect)(()=>{if(void 0===N||!x||!z)return;b(!0);let e=async()=>{try{let e=(0,u.Qg)(z,"getTwoFactorSecretAction"),t=!!(await e()).data;if(C(t),t){let e="true"===localStorage.getItem("2fa-verified-".concat(x.uid));E(e)}else E((null==N?void 0:N.isAdmin)||!1)}catch(e){C(!1),E(!1)}finally{b(!1)}};null!==N&&N.isAdmin?N.isAdmin&&(C(!0),E(!0),b(!1)):e()},[N,x,z,E,C,b]),(0,n.useEffect)(()=>{if(y)return;if(!x){v&&!f.includes(v)&&(h.replace("/login"),_(!0));return}let e=(null==N?void 0:N.isAdmin)?"/admin/properties":"/simulator";if(k){(p.includes(v)||"/login"===v)&&(h.replace(e),_(!0));return}p.includes(v)||void 0!==A&&(A?h.replace("/verify-2fa"):h.replace("/setup-2fa"),_(!0))},[y,x,N,k,A,v,h]),(0,n.useEffect)(()=>{if(!k){P([]),L(!0);return}L(!0);let e=(0,l.rJ)(c.db,"properties"),t=(0,l.aQ)(e,e=>{let t=[];e.forEach(e=>{t.push((0,s._)({id:e.id},e.data()))}),P(t),L(!1)},e=>{L(!1)});return()=>t()},[k]);let U=null!=(t=null==N?void 0:N.isAdmin)&&t;return y||x&&void 0===N||h&&w?(0,r.jsx)("div",{children:"Carregando..."}):(0,r.jsx)(d.c.Provider,{value:{user:x,isAdmin:U,authLoading:y,isFullyAuthenticated:k,setIsFullyAuthenticated:E,has2FA:A,properties:R,propertiesLoading:S,isPageLoading:w,setIsPageLoading:_,functions:z},children:a})}}},e=>{e.O(0,[804,58,327,707,611,96,76,358],()=>e(e.s=33065)),_N_E=e.O()}]);